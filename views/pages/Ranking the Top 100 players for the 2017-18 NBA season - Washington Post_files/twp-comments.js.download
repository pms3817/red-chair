var TWP = window.TWP || {}; TWP.Status = TWP.Status || {}; TWP.Status.Identity = TWP.Status.Identity || {}; (function() { var env = "production"; wp_e2 = window.wp_e2 || {}; wp_e2.comments_version = "3.1"; wp_e2.comments_status = "on"; wp_e2.comments_status_notification = '<div class="echo_container"><div class="echo-closed-notification "><span>Comments have been temporarily disabled.</span></div></div>'; var fileList=[]; fileList.push("https://www.washingtonpost.com/pb/gr/c/javascript/rQb37z1BzCF9bp/twp-comments_css/65a4176fb3.css?_=d0c4c&v=3.1"); if (typeof window.wapoEnv == 'undefined') { fileList.push("//www.washingtonpost.com/pb/gr/c/javascript/rQb37z1BzCF9bp/wapo-production/8f8c39c9d8.js?_=bee5a"); } fileList.push("//www.washingtonpost.com/pb/gr/c/javascript/rQb37z1BzCF9bp/twp-comments_utils/c1b61e7ebc.js?_=dfbc5&v=3.1");fileList.push("//www.washingtonpost.com/pb/gr/c/javascript/rQb37z1BzCF9bp/twp-comments_core-production/499c2b4a02.js?_=a018f&v=3.1");fileList.push("//www.washingtonpost.com/pb/gr/c/javascript/rQb37z1BzCF9bp/twp-comments_twp_plugins/1a4ed9a5cb.js?_=ec492&v=3.1");fileList.push("//www.washingtonpost.com/pb/gr/c/javascript/rQb37z1BzCF9bp/twp-comments_controls-production/3f788937d5.js?_=dcfa9&v=3.1");fileList.push("//www.washingtonpost.com/pb/gr/c/javascript/rQb37z1BzCF9bp/twp-comments_wapo-production/6d91ec22a1.js?_=bb4f8&v=3.1");fileList.push("//www.washingtonpost.com/pb/gr/c/javascript/rQb37z1BzCF9bp/twp-comments_twpapp/0a94f055ec.js?_=1c7e8&v=3.1"); if (window.jQuery && typeof jQuery.cookie === 'undefined') { fileList.unshift("//www.washingtonpost.com/pb/gr/c/javascript/rQb37z1BzCF9bp/twp-comments_cookie/4cc3c1bef0.js?_=b8874" ); } if (typeof jQuery=== 'undefined') { fileList.unshift("//www.washingtonpost.com/pb/gr/c/javascript/rQb37z1BzCF9bp/twp-comments_jquery/71c1a17cb2.js?_=a0a0b" ); } $(window.document).on('twp.page|comments.load.complete',function(){ if (wp_e2.comments_status == 'off') { if (jQuery('.pb-f-page-comments').length > 0) { jQuery('.pb-f-page-comments').find('.pb-comment-wrapper').remove(); jQuery('.pb-f-page-comments').append(wp_e2.comments_status_notification); } else { jQuery('.echo_container.comments').html(''); jQuery('.echo_container.comments').append(wp_e2.comments_status_notification); } } }); (function() { var wpiInit = function() { wp_import.option('defer', false); wp_import.option('objectPreload', false); if ( TWP.Status.Identity && TWP.Status.Identity.status ) { ResourceBundle.when('pb-r-identity').then(function(){ console && console.time && console.time("Comments load"); wp_import(fileList) .always(function() { $(window.document).trigger('twp.page|comments.load.complete'); console && console.time && console.timeEnd("Comments load"); }) .fail(function(a, b) { try { console.error(a, b); } catch(e) { } }); }); } else { console && console.time && console.time("Comments load"); wp_import(fileList) .always(function() { $(window.document).trigger('twp.page|comments.load.complete'); console && console.time && console.timeEnd("Comments load"); }) } }; ;(function(b,h,c,a,g,e){function f(a,b){k(l,a[0],a[1],function(){b&& b()})}function k(a,b,c,e){var d=document.createElement("script");d. id=b;d.type="text/javascript";d.src=c;d.onreadystatechange=d.onload= function(){d.onreadystatechange=d.onload=null;e()};a.appendChild(d); a.parentNode.insertBefore(d,a)}var l=b.getElementsByTagName(c)[0];c= b.getElementById(a[0]);b=b.getElementById(g[0]);if(h.wp_import||c||b) {if("function"==typeof h.wp_import){e();return}if(c&&"loaded"!=c. readyState&&"complete"!=c.readyState){c.addEventListener("load", function(){e()});return}if(b&&"loaded"!=b.readyState&&"complete"!=b. readyState&&"undefined"==typeof jQuery){b.addEventListener("load", function(){a[1]=a[1].replace("%nd","");f(a,e)});return}}"undefined" ==typeof jQuery?(a[1]=a[1].replace("%nd",g[1]?"":"-nd"),g[1]?f(g, function(){f(a,e)}):f(a,e)):(a[1]=a[1].replace("%nd",""),f(a,e))})( document,window,"script",["wpi-js","//www.washingtonpost.com/pb/reso"+ "urces/wp_import/wp_import%nd.js"],window.wpiJquery||[],"undefined" !=typeof wpiInit?wpiInit:function(){}); })(); })();